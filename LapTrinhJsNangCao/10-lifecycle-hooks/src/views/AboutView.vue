<script setup>
import { onBeforeMount, onMounted, onBeforeUpdate, onUpdated, onBeforeUnmount, onUnmounted, ref } from 'vue';

const count = ref(7);

// HÃ m Ä‘á»ƒ kÃ­ch hoáº¡t cáº­p nháº­t
const increment = () => {
  count.value++;
};

// --- 1. Gáº®N Káº¾T (MOUNTING) ---
onBeforeMount(() => {
  console.log('ğŸ‘¶ 1. onBeforeMount: Sáº¯p chÃ¨n vÃ o DOM. Count hiá»‡n táº¡i:', count.value);
});

onMounted(() => {
  console.log('âœ… 2. onMounted: ÄÃ£ chÃ¨n vÃ o DOM. CÃ³ thá»ƒ thao tÃ¡c DOM táº¡i Ä‘Ã¢y.', count.value);
});

// --- 2. Cáº¬P NHáº¬T (UPDATING) ---
onBeforeUpdate(() => {
  // Láº¥y giÃ¡ trá»‹ *trÆ°á»›c* khi DOM Ä‘Æ°á»£c cáº­p nháº­t
  console.log('ğŸ”„ 3. onBeforeUpdate: DOM sáº¯p Ä‘Æ°á»£c cáº­p nháº­t. GiÃ¡ trá»‹ Count má»›i:', count.value);
});

onUpdated(() => {
  // Láº¥y giÃ¡ trá»‹ *sau* khi DOM Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t
  console.log('âœ¨ 4. onUpdated: DOM Ä‘Ã£ hoÃ n táº¥t cáº­p nháº­t.', count.value);
});

// --- 3. Gá»  Bá» (UNMOUNTING) ---
onBeforeUnmount(() => {
  console.warn('ğŸ—‘ï¸ 5. onBeforeUnmount: Sáº¯p gá»¡ khá»i DOM. Dá»n dáº¹p tÃ i nguyÃªn (timers) táº¡i Ä‘Ã¢y.', count.value);
});

onUnmounted(() => {
  console.error('âŒ 6. onUnmounted: ÄÃ£ gá»¡ hoÃ n toÃ n khá»i DOM.',count.value);
});

</script>

<template>
  <div style="border: 2px solid #42b883; padding: 15px; margin-top: 20px;">
    <h3>Component Con Ä‘ang hoáº¡t Ä‘á»™ng</h3>
    <p>GiÃ¡ trá»‹ Ä‘áº¿m: <strong>{{ count }}</strong></p>
    <button @click="increment">TÄƒng giÃ¡ trá»‹ Ä‘áº¿m</button>
  </div>
</template>