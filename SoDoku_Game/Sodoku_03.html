<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sudoku.NDTu</title>
    <style>
        body{
            text-align: center;
        }
        .btn{
            height: 50px;
            width: 50px;
            border: 1px solid gray;
            font-weight: bolder;
            font-size: 25px;
            color: black;
        }
        .khung9x9{
            height: 450px;
            width: 450px;
            display: flex;
            flex-wrap: wrap;
        }
    </style>
</head>
<body>
    <div class="khung9x9">
        <!--hang 0-->
        <button class="btn" id="b00">1</button>
        <button class="btn" id="b01">2</button>
        <button class="btn" id="b02">3</button>
        <button class="btn" id="b03">4</button>
        <button class="btn" id="b04">5</button>
        <button class="btn" id="b05">6</button>
        <button class="btn" id="b06">7</button>
        <button class="btn" id="b07">8</button>
        <button class="btn" id="b08">9</button>
        <br>
        <!--hang 1-->
        <button class="btn" id="b10">1</button>
        <button class="btn" id="b11">2</button>
        <button class="btn" id="b12">3</button>
        <button class="btn" id="b13">4</button>
        <button class="btn" id="b14">5</button>
        <button class="btn" id="b15">6</button>
        <button class="btn" id="b16">7</button>
        <button class="btn" id="b17">8</button>
        <button class="btn" id="b18">9</button>
        <br>
        <!--hang 2-->
        <button class="btn" id="b20">1</button>
        <button class="btn" id="b21">2</button>
        <button class="btn" id="b22">3</button>
        <button class="btn" id="b23">4</button>
        <button class="btn" id="b24">5</button>
        <button class="btn" id="b25">6</button>
        <button class="btn" id="b26">7</button>
        <button class="btn" id="b27">8</button>
        <button class="btn" id="b28">9</button>
        <br>
        <!--hang 3-->
        <button class="btn" id="b30">1</button>
        <button class="btn" id="b31">2</button>
        <button class="btn" id="b32">3</button>
        <button class="btn" id="b33">4</button>
        <button class="btn" id="b34">5</button>
        <button class="btn" id="b35">6</button>
        <button class="btn" id="b36">7</button>
        <button class="btn" id="b37">8</button>
        <button class="btn" id="b38">9</button>
        <br>
        <!--hang 4-->
        <button class="btn" id="b40">1</button>
        <button class="btn" id="b41">2</button>
        <button class="btn" id="b42">3</button>
        <button class="btn" id="b43">4</button>
        <button class="btn" id="b44">5</button>
        <button class="btn" id="b45">6</button>
        <button class="btn" id="b46">7</button>
        <button class="btn" id="b47">8</button>
        <button class="btn" id="b48">9</button>
        <br>
        <!--hang 5-->
        <button class="btn" id="b50">1</button>
        <button class="btn" id="b51">2</button>
        <button class="btn" id="b52">3</button>
        <button class="btn" id="b53">4</button>
        <button class="btn" id="b54">5</button>
        <button class="btn" id="b55">6</button>
        <button class="btn" id="b56">7</button>
        <button class="btn" id="b57">8</button>
        <button class="btn" id="b58">9</button>
        <br>
        <!--hang 6-->
        <button class="btn" id="b60">1</button>
        <button class="btn" id="b61">2</button>
        <button class="btn" id="b62">3</button>
        <button class="btn" id="b63">4</button>
        <button class="btn" id="b64">5</button>
        <button class="btn" id="b65">6</button>
        <button class="btn" id="b66">7</button>
        <button class="btn" id="b67">8</button>
        <button class="btn" id="b68">9</button>
        <br>
        <!--hang 7-->
        <button class="btn" id="b70">1</button>
        <button class="btn" id="b71">2</button>
        <button class="btn" id="b72">3</button>
        <button class="btn" id="b73">4</button>
        <button class="btn" id="b74">5</button>
        <button class="btn" id="b75">6</button>
        <button class="btn" id="b76">7</button>
        <button class="btn" id="b77">8</button>
        <button class="btn" id="b78">9</button>
        <br>
        <!--hang 8-->
        <button class="btn" id="b80">1</button>
        <button class="btn" id="b81">2</button>
        <button class="btn" id="b82">3</button>
        <button class="btn" id="b83">4</button>
        <button class="btn" id="b84">5</button>
        <button class="btn" id="b85">6</button>
        <button class="btn" id="b86">7</button>
        <button class="btn" id="b87">8</button>
        <button class="btn" id="b88">9</button>
        <br>
    </div>
    <script>
        //khai báo các biến---------------------------------------------------------------------------------
        //gắn các nút vào mảng
        //tạo 1 mảng 9*9 các button
        let aBtn = [
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
            [0,0,0,0,0,0,0,0,0],
        ]
        //mảng số liệu sodoku
        let data = [
            [6, 1, 3, 5, 4, 9, 8, 2, 7],
            [9, 8, 4, 6, 7, 2, 5, 3, 1],
            [2, 5, 7, 8, 3, 1, 6, 4, 9],

            [8, 3, 2, 1, 5, 7, 4, 9, 6],
            [7, 4, 5, 3, 9, 6, 2, 1, 8],
            [1, 9, 6, 2, 8, 4, 7, 5, 3],

            [3, 7, 8, 4, 1, 5, 9, 6, 2],
            [4, 2, 9, 7, 6, 3, 1, 8, 5],
            [5, 6, 1, 9, 2, 8, 3, 7, 4],
        ];
        //khai báo các hàm -------------------------------------------------------------------------------------------
        function ganCacNutVaoMang(){
             //gắn 81 nút vào mảng
            for(let i = 0 ; i < 9 ; i++){
                for(let j = 0 ; j < 9 ; j++){
                    aBtn[i][j] = document.getElementById("b" + i + j);
                }
            }
        };
        //--------------------------------------------------------------------
        function duaSoVaoCacNut(){
            //thay số trên các nút để kiểm tra
            for(let i = 0 ; i < 9 ; i++){
                for(let j = 0 ; j < 9 ; j++){
                    aBtn[i][j].innerHTML = ""+ (data[i][j] != 0 ? data[i][j] : "  ");
                }
            }
        };
        //--------------------------------------------------------------------------
        function toMau(){
            // tô màu các khối ô
            for(let i = 0 ; i < 9 ; i++){
                for(let j = 0 ; j < 9 ; j++){
                    if((Math.floor(i/3) + Math.floor(j/3)) % 2 ==0){
                        aBtn[i][j].style.background = "lightgray";
                    }else{
                        aBtn[i][j].style.background = "lightblue";
                    }
                }
            }
        };
        //--------------------------------------------------------------------------------
        function hoanVi(){
            //hoán vị ngẫu nhiên 2 trong 3 hàng đầu 0-1-2
            let a  = Math.floor(Math.random()*3);// a sẽ là 0/1/2
            let b  = Math.floor(Math.random()*3);// b sẽ là 0/1/2
            let tam;
            
            for (let j = 0; j < 9; j++) {
                tam = data[a][j];
                data[a][j] = data[b][j];
                data[b][j] = tam;
            }

            //hoán vị 3 hàng giữa 3-4-5
            a  = Math.floor(Math.random()*3)+3;// a sẽ là 3/4/5
            b  = Math.floor(Math.random()*3)+3;// b sẽ là 3/4/5
            for (let j = 0; j < 9; j++) {
                tam = data[a][j];
                data[a][j] = data[b][j];
                data[b][j] = tam;
            }

            //hoán vị 3 hàng cuối 
            a  = Math.floor(Math.random()*3)+6;// a sẽ là 6/7/8
            b  = Math.floor(Math.random()*3)+6;// b sẽ là 6/7/8
            for (let j = 0; j < 9; j++) {
                tam = data[a][j];
                data[a][j] = data[b][j];
                data[b][j] = tam;
            }

            //hoán vị 2 trong 3 cột đầu
            a  = Math.floor(Math.random()*3);// a sẽ là 0/1/2
            b  = Math.floor(Math.random()*3);// b sẽ là 0/1/2
            for (let i = 0; i < 9; i++) {
                tam = data[i][a];
                data[i][a] = data[i][b];
                data[i][b] = tam;
            }

            //hoán vị 3 cột giữa
            a  = Math.floor(Math.random()*3)+3;// a sẽ là 3/4/5
            b  = Math.floor(Math.random()*3)+3;// b sẽ là 3/4/5
            for (let i = 0; i < 9; i++) {
                tam = data[i][a];
                data[i][a] = data[i][b];
                data[i][b] = tam;
            }

            //hoán vị 3 cột cuối
            a  = Math.floor(Math.random()*3)+6;// a sẽ là 6/7/8
            b  = Math.floor(Math.random()*3)+6;// b sẽ là 6/7/8
            for (let i = 0; i < 9; i++) {
                tam = data[i][a];
                data[i][a] = data[i][b];
                data[i][b] = tam;
            }
            duaSoVaoCacNut();
        }
        //------------------------------------------------------------------
        //xoá bớt n số ngẫu nhiên
        function xoaBotSo(n){
            let dem = 0;
            let a  = Math.floor(Math.random()*9);// a sẽ là 0 đến 8
            let b  = Math.floor(Math.random()*9);// b sẽ là 0 đến 8
            while(dem < n){
                a  = Math.floor(Math.random()*9);// a sẽ là 0 đến 8
                b  = Math.floor(Math.random()*9);// b sẽ là 0 đến 8
                if(data[a][b] != 0){
                    data[a][b] = 0;//xoá 
                    dem++;
                }
            }
            duaSoVaoCacNut();
        }
        //main : chương trình chính sẽ chạy bắt đầu từ đây-----------------------------------------------
        ganCacNutVaoMang();//lời gọi hàm
        duaSoVaoCacNut();
        toMau();
        hoanVi();
        xoaBotSo(20);//dễ là 10,20 là vừa, 30 là khó , 40 là rất khó
    </script>
</body>
</html>